<template>
  <div class="layer">
    <div class="main-container">
      <div class="title">
        <!-- <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="29.942" height="30" viewBox="0 0 29.942 30">
          <defs>
            <clipPath id="clip-path">
              <path id="Mask" d="M21.8,29.3a13.734,13.734,0,0,0-6.823-1.541A13.729,13.729,0,0,0,8.147,29.3c-.9.424-2.222,1.358-3.748-.023a2.556,2.556,0,0,1-.824-1.844,2.83,2.83,0,0,1,.388-1.394,2.574,2.574,0,0,1-3.244-.44A2.481,2.481,0,0,1,0,23.907a4.911,4.911,0,0,1,.7-2.064A13.794,13.794,0,0,0,2.246,15,13.781,13.781,0,0,0,.7,8.16,4.946,4.946,0,0,1,0,6.1,2.479,2.479,0,0,1,.72,4.41a2.56,2.56,0,0,1,3.244-.439,2.823,2.823,0,0,1-.388-1.394A2.586,2.586,0,0,1,4.4.721C5.925-.652,7.247.281,8.147.706A13.736,13.736,0,0,0,14.974,2.25,13.75,13.75,0,0,0,21.8.706c.9-.425,2.213-1.357,3.742.015a2.6,2.6,0,0,1,.827,1.856,2.806,2.806,0,0,1-.385,1.394,2.554,2.554,0,0,1,3.237.439A2.483,2.483,0,0,1,29.942,6.1a4.866,4.866,0,0,1-.7,2.065A13.852,13.852,0,0,0,27.7,15a13.873,13.873,0,0,0,1.537,6.845,4.832,4.832,0,0,1,.7,2.064,2.485,2.485,0,0,1-.722,1.687,2.561,2.561,0,0,1-3.24.44,2.83,2.83,0,0,1,.386,1.394,2.561,2.561,0,0,1-.825,1.844A2.47,2.47,0,0,1,23.852,30,4.826,4.826,0,0,1,21.8,29.3Z" fill="none"/>
            </clipPath>
          </defs>
          <g id="Group_3" data-name="Group 3" transform="translate(-20 -21)">
            <g id="DBS_Logo" data-name="DBS Logo" transform="translate(20 21)">
              <g id="Logomark">
                <g id="Bitmap">
                  <g id="Mask-2" data-name="Mask">
                    <path id="Mask-3" data-name="Mask" d="M29.24,8.16c.421-.9,1.354-2.216-.02-3.75a2.555,2.555,0,0,0-3.238-.439,2.575,2.575,0,0,0-.441-3.25C24.011-.651,22.694.281,21.8.705A13.748,13.748,0,0,1,14.974,2.25,13.73,13.73,0,0,1,8.147.705C7.247.281,5.925-.651,4.4.721a2.574,2.574,0,0,0-.436,3.25A2.56,2.56,0,0,0,.72,4.41C-.652,5.944.284,7.258.7,8.16A13.777,13.777,0,0,1,2.246,15,13.788,13.788,0,0,1,.7,21.843c-.414.9-1.351,2.219.022,3.751a2.574,2.574,0,0,0,3.243.44A2.556,2.556,0,0,0,4.4,29.272c1.525,1.382,2.847.448,3.748.023a13.734,13.734,0,0,1,6.827-1.54A13.741,13.741,0,0,1,21.8,29.3c.9.424,2.213,1.359,3.743-.023a2.56,2.56,0,0,0,.439-3.238,2.561,2.561,0,0,0,3.24-.44c1.374-1.533.441-2.856.02-3.751A13.865,13.865,0,0,1,27.7,15,13.846,13.846,0,0,1,29.24,8.16Z" fill="none"/>
                    <path id="Mask-4" data-name="Mask" d="M29.24,8.16c.421-.9,1.354-2.216-.02-3.75a2.555,2.555,0,0,0-3.238-.439,2.575,2.575,0,0,0-.441-3.25C24.011-.651,22.694.281,21.8.705A13.748,13.748,0,0,1,14.974,2.25,13.73,13.73,0,0,1,8.147.705C7.247.281,5.925-.651,4.4.721a2.574,2.574,0,0,0-.436,3.25A2.56,2.56,0,0,0,.72,4.41C-.652,5.944.284,7.258.7,8.16A13.777,13.777,0,0,1,2.246,15,13.788,13.788,0,0,1,.7,21.843c-.414.9-1.351,2.219.022,3.751a2.574,2.574,0,0,0,3.243.44A2.556,2.556,0,0,0,4.4,29.272c1.525,1.382,2.847.448,3.748.023a13.734,13.734,0,0,1,6.827-1.54A13.741,13.741,0,0,1,21.8,29.3c.9.424,2.213,1.359,3.743-.023a2.56,2.56,0,0,0,.439-3.238,2.561,2.561,0,0,0,3.24-.44c1.374-1.533.441-2.856.02-3.751A13.865,13.865,0,0,1,27.7,15,13.846,13.846,0,0,1,29.24,8.16Z" fill="#c00"/>
                  </g>
                </g>
                <path id="Path" d="M18.534,18.6l-7.186-6.038a3.474,3.474,0,0,0-2.065-.952,3.48,3.48,0,0,0-2.076.952L.023,18.6,0,18.579l6.027-7.2A3.482,3.482,0,0,0,6.975,9.3a3.48,3.48,0,0,0-.948-2.069L0,.025.023,0,7.207,6.044A3.477,3.477,0,0,0,9.283,7a3.471,3.471,0,0,0,2.065-.954L18.534,0l.03.032-6.039,7.2A3.489,3.489,0,0,0,11.583,9.3a3.491,3.491,0,0,0,.942,2.079l6.039,7.2Z" transform="translate(5.689 5.7)" fill="#fff"/>
              </g>
            </g>
          </g>
        </svg> -->
        <h1 class="logo-title">Sector Compare</h1>
      </div>
      <div class="table-container">
        <table>
          <thead>
            <tr class="table-header">
              <th style="z-index: 11; text-transform:uppercase;">
                {{sector}}
              </th>
              <th>Market Cap</th>
              <th>Price</th>
              <th>Net Profit</th>
              <th>EPS</th>
              <th>PE</th>
              <th>PBV</th>
              <th>Dividend</th>
              <th>PEG</th>
              <th>EV / EBITDA</th>
              <th>ROE</th>
            </tr>
          </thead>
          <row :symbol_list="symbol_list"/>
        </table>
      </div>
    </div>
  </div>
</template>

<script>

import Row from './Row'
import axios from 'axios'
export default {
  name: 'Layer',
  props: ['symbol'],
  components: {
    Row,
  },
  data(){
    return{
      sector: '',
      symbol_list: []
    }
  },
  mounted () {
    axios.get(`https://dbs-funda.alpha.lab.ai/active/${this.$route.query.symbol}`).then( res => {
      if(res.status === 200){
        this.symbol_list = res.data.result.symbol_list
        this.sector = res.data.result.sector
      }
    })
  }
}
</script>

<style>
@font-face {
  font-family: frutiger;
  src: url(../assets/fonts/Frutiger.ttf);
  font-style: normal;
}
.row {
  display: flex;
}
th {
  background-color: #3b3530;
  z-index: 10;
  font-family: Arial;
  font-weight: lighter;
}
.nav-bar {
  position: sticky;
  top: 0%;
  width: 1100px;
  overflow: hidden;
}
.left-side {
  position: sticky;
  left: 0%;
  z-index: 2
}
.item {
  height: 150px;
  width: 300px !important;
}
.layer {
  display: flex;
  justify-content: center;
}
.main-container {
  margin: 0;
  height: 90vh;
  font-family: Arial, Helvetica, sans-serif;
  min-width: 400px;
}

table {
  position: relative;
  border-collapse: collapse;
}

td, th {
  padding: 0.25em;
  min-width: 100px;
}

.table-header > th{
  padding-top: 10px;
  padding-bottom: 10px;
}

thead th {
  position: -webkit-sticky; /* for Safari */
  position: sticky;
  top: 0;
  color: #FFF;
  text-align: left;
}

thead th:first-child {
  left: 0;
  z-index: 1;
  width: 100px !important;
}

tbody th {
  position: -webkit-sticky; /* for Safari */
  position: sticky;
  left: 0;
  border: 1px solid #CCC;
  border-left: none;
  border-top: none;
  width: 100px !important;
}
td {
  border: 1px solid #CCC;
  border-left: none;
  border-top: none;
}
thead th {
  border-right: 1px solid #CCC;
  font-size: 12px;
}

.table-container {
  margin: auto;
  width: 87%;
  height: 80vh;
  background: rgba(0, 0, 0, 0.7);
  overflow: scroll;
}
.title {
  display: flex;
  justify-content: flex-start;
  width: 87%;
  margin-left: 7%;
  align-items: center;
}
.logo-title {
  margin-top: 8px;
  font-size: 24px;
  padding-left: 20px;
  font-family: Arial;
  font-weight: lighter;
}
</style>